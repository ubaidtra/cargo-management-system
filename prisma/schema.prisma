generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model User {
  id       String  @id @default(auto()) @map("_id") @db.ObjectId
  username String  @unique
  password String  // Simple text for MVP
  role     String  // ADMIN or OPERATOR
  isActive Boolean @default(true)
  // Operator Profile Fields
  country  String?
  branch   String?
  email    String?
  address  String?
  contact  String?
}

model ActivityLog {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  action    String   // CREATE_USER, DELETE_USER, ACTIVATE_USER, DEACTIVATE_USER, RESET_PASSWORD, LOGIN, CREATE_CARGO, etc.
  userId    String?  // User who performed the action
  username  String?  // Username for reference
  details   String?  // Additional details about the action
  timestamp DateTime @default(now())
}

model Cargo {
  id              String   @id @default(auto()) @map("_id") @db.ObjectId
  trackingNumber  String   @unique
  senderName      String
  senderContact   String?
  receiverName    String
  receiverContact String?
  destination     String
  weight          Float
  numberOfItems   Int      @default(1)
  description     String?
  cost            Float
  status          String   // SENT, RECEIVED
  paymentStatus   String   // PAID, UNPAID
  sendingDate     DateTime @default(now())
  createdAt       DateTime @default(now())
}

model PricingConfig {
  id        String @id @default(auto()) @map("_id") @db.ObjectId
  baseCost  Float  @default(10.0)
  costPerKg Float  @default(5.0)
}
